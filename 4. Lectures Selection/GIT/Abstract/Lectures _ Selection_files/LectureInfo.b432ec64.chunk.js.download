(this["webpackJsonpbinary-studio-academy-client"]=this["webpackJsonpbinary-studio-academy-client"]||[]).push([[32],{1982:function(e,t,a){},2094:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a.n(n),c=a(43),s=a(37),r=a(3),l=a(8),d=a(9),o=a(20),u=a(21),j=a(2),m=a(0),b=a(628),p=a(626),h=a(86),O=a(130),f=a(553),v=a(47),x=a(16),k=a(30),g=a(35),y=a.n(g),N=a(1024),T=a(586),C=(a(1982),a(1025)),E=a(201),w=a(593),S=a(128),F=a(102),L=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).video=m.createRef(),n.applyTimestamp=function(e){var t=Number(e.target.id);n.video.current.seekTo(t),n.setState({playing:!0})},n.handleClickTimestampListOpen=function(){n.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{timestampOpen:!e.timestampOpen})}))},n.setLectureRating=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a){var s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=Object(C.a)(n.props.ratings),n.props.submitLectureFeedback(Object(r.a)(Object(r.a)({},l),{},(s={},Object(c.a)(s,e,a),Object(c.a)(s,"text",n.props.lectureFeedbackText),s)),n.props.lectureId);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.handleTextChange=function(e){n.setState({feedbackText:e})},n.handleSaveFeedback=function(){var e=Object(C.a)(n.props.ratings);n.props.submitLectureFeedback(Object(r.a)(Object(r.a)({},e),{},{text:n.state.feedbackText}),n.props.lectureId),n.setState({isEdit:!0})},n.renderFeedbackContent=function(){var e=n.state.feedbackText;return Object(j.jsx)("div",{className:"stored-text",dangerouslySetInnerHTML:{__html:e}})},n.onInit=function(){n.setState({loadingEditor:!1})},n.renderEditor=function(e){var t=n.state.feedbackText;return Object(j.jsx)(w.a,{height:200,onInit:n.onInit,letterText:t,handleTextChange:n.handleTextChange,disabled:!e})},n.setEdit=function(){n.setState({isEdit:!1,loadingEditor:!0})},n.renderButton=function(e){return n.state.isEdit?Object(j.jsx)(S.a,{textIntlId:"edit",onClick:n.setEdit}):Object(j.jsx)(S.a,{disabled:!e,textIntlId:"userCabinet.send",onClick:n.handleSaveFeedback})};var d=n.props.lectureFeedbackText;return n.state={playing:!1,feedbackText:d,isEdit:!!d,loadingEditor:!1,timestampOpen:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.timecodes,n=t.videoLink,i=t.description,c=t.ratings,s=this.state,r=s.playing,l=s.isEdit,d=s.loadingEditor,o=s.timestampOpen,u=Boolean(c.filter((function(e){return e.value})).length),m=Object.values(n).find((function(e){return!!e}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"lecture-info lecture-content",children:[Object(j.jsxs)("div",{className:"video",children:[Object(j.jsx)("div",{className:Object(E.c)(a)?"full-width":"with-timestamps",children:Object(j.jsx)(p.a,{ref:this.video,videoLink:n[this.props.intl.locale]?n[this.props.intl.locale]:m,playing:r})}),!Object(E.c)(a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{timestamps:a,applyTimestamp:this.applyTimestamp,className:o&&"timestamp-list-open"}),Object(j.jsx)("div",{className:"timestamp-list-arrow",children:Object(j.jsx)(T.a,{onClick:this.handleClickTimestampListOpen,className:y()({"arrow-chevron-up":o})})})]})]}),Object(j.jsxs)("div",{className:"lecture-bottom-info",children:[Object(j.jsxs)("div",{className:"lecture-feedback",children:[Object(j.jsx)("div",{className:"lecture-rating-label",children:Object(j.jsx)(h.a,{id:"rate-lecture-quality",defaultMessage:"\u041e\u0446\u0435\u043d\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u043a\u0446\u0438\u0438"})}),Object(j.jsx)("div",{className:"info-element",children:c.map((function(t,a){return Object(j.jsxs)("div",{className:"lecture-quality-item",children:[Object(j.jsx)("div",{className:"lecture-quality-item-label",children:Object(j.jsx)(h.a,{id:t.label})}),Object(j.jsx)(N.a,{lectureRating:Number(t.value),onChange:e.setLectureRating(t.label)})]},a)}))}),Object(j.jsxs)("div",{className:"lecture-feedback-text",children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("div",{className:"title-message",children:Object(j.jsx)(h.a,{id:"lecture.feedback-title-message",defaultMessage:"\u0417\u0430\u043b\u0438\u0448\u0438 \u0441\u0432\u043e\u0457 \u0432\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u043b\u0435\u043a\u0446\u0456\u0457"})}),Object(j.jsx)("div",{className:"title-star",children:Object(j.jsx)(h.a,{id:"lecture.feedback-title-star",defaultMessage:"* \u043f\u0456\u0441\u043b\u044f \u043e\u0446\u0456\u043d\u043a\u0438 \u043b\u0435\u043a\u0446\u0456\u0457 \u0442\u0438 \u0437\u043c\u043e\u0436\u0435\u0448 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440, \u0442\u043e\u043c\u0443 \u0441\u0442\u0430\u0432 \u0441\u0432\u043e\u0457 \u0437\u0456\u0440\u043e\u0447\u043a\u0438"})})]}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"lecture-feedback-content",children:[l?this.renderFeedbackContent():this.renderEditor(u),d?Object(j.jsx)(F.a,{}):null]}),Object(j.jsx)("div",{className:"lecture-feedback__submit",children:this.renderButton(u)})]})]})]}),Object(j.jsx)("div",{className:"markdown-container info-element",children:Object(j.jsx)(f.a,{source:i,escapeHtml:!1})})]})]})})}}]),a}(m.Component),I=Object(k.c)(null,(function(e){return{actions:Object(v.bindActionCreators)({addCommonAlert:x.a.addCommonAlert},e)}}))(Object(O.c)(L));t.default=I},626:function(e,t,a){"use strict";var n=a(8),i=a(9),c=a(20),s=a(21),r=a(2),l=a(0),d=a(745),o=a.n(d),u=(a(627),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).player=l.createRef(),e.seekTo=function(t){e.player.current.seekTo(t)},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"video-wrapper",children:Object(r.jsx)(o.a,{ref:this.player,url:this.props.videoLink,playing:this.props.playing,controls:!0,height:"100%",width:"100%"},this.props.videoLink)})}}]),a}(l.PureComponent));t.a=u},627:function(e,t,a){},628:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(8),i=a(9),c=a(20),s=a(21),r=a(2),l=a(0),d=a(35),o=a.n(d),u=a(129),j=a(272),m=(a(629),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={activeElement:null},e.handleClickTimeStamp=function(t){return function(a){e.setState({activeElement:t}),e.props.applyTimestamp(a)}},e}return Object(i.a)(a,[{key:"formatTime",value:function(e){return(e-(e%=60))/60+(9<e?":":":0")+e}},{key:"render",value:function(){var e=this,t=this.props,a=t.timestamps,n=t.onDelete,i=t.className,c=this.state.activeElement;return Object(r.jsx)("div",{className:o()("timestamp-list-wrapper",i),children:Object(r.jsx)("ul",{className:"timestamp-list",children:a.map((function(t){return Object(r.jsxs)("li",{title:t.name,className:o()("timestamp-item",{active:t.name===c}),onClick:e.handleClickTimeStamp(t.name),id:t.seconds.toString(),children:[Object(r.jsx)("h5",{className:"timestamp",children:e.formatTime(t.seconds)}),Object(r.jsx)("p",{className:"description",children:t.name}),n&&Object(r.jsx)(j.a,{type:u.w,onClick:n(t.seconds)})]},t.seconds)}))})})}}]),a}(l.Component))},629:function(e,t,a){}}]);