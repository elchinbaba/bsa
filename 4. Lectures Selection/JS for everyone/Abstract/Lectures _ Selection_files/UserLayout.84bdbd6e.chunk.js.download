(this["webpackJsonpbinary-studio-academy-client"]=this["webpackJsonpbinary-studio-academy-client"]||[]).push([[58],{1154:function(e,t,n){},1155:function(e,t,n){},1156:function(e,t,n){},1157:function(e,t,n){e.exports={wrapper:"SelectDirection_wrapper__3G45x",item:"SelectDirection_item__5SaZJ",directions:"SelectDirection_directions__2otEm",header:"SelectDirection_header__gGrG6"}},2113:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n.n(a),r=n(3),i=n(37),s=n(8),o=n(9),l=n(20),u=n(21),d=n(2),b=n(0),j=n.n(b),f=n(27),m=n(280),p=n(880),h=n(84),O=n.n(h),v=n(86),g=n(130),x=n(93),y=n(24),S=(n(1154),n(47)),w=n(30),N=n(692),k=n(2115),C=n(35),R=n.n(C),I=(n(1155),n(87)),A=function(e){var t=e.content,n=e.className,a=e.submitLabel,c=e.cancelLabel,r=e.onCancel,i=e.onSubmit,s=e.isOpen,o=e.icon,l=R()("dialog",n);return Object(d.jsx)(k.a,{classNames:"dialog",in:s,timeout:1e3,unmountOnExit:!0,children:Object(d.jsx)("div",{className:"dialog__wrapper",children:Object(d.jsxs)("div",{className:l,children:[Object(d.jsxs)("div",{className:"dialog__main",children:[Object(d.jsx)(I.a,{icon:o,className:"dialog__icon",size:"4x",color:"#00adee"}),Object(d.jsx)("div",{children:t})]}),Object(d.jsxs)("div",{className:"dialog__actions",children:[Object(d.jsx)("button",{className:"button secondary",onClick:r,children:c||Object(d.jsx)(v.a,{id:"cancel",defaultMessage:"Cancel"})}),Object(d.jsx)("button",{className:"button",onClick:i,children:a||Object(d.jsx)(v.a,{id:"submit",defaultMessage:"Submit"})})]})]})})})},M=n(129),z=n(197),E=(n(1156),function(e){var t=e.active;return Object(d.jsx)(k.a,{classNames:"darkened-screen",in:t,timeout:1e3,unmountOnExit:!0,children:Object(d.jsx)("div",{className:"darkened-screen"})})}),D=n(102),P=Object(b.lazy)((function(){return Promise.all([n.e(1),n.e(66),n.e(59)]).then(n.bind(null,2098))})),_=n(757),L=Object(b.lazy)((function(){return Promise.resolve().then(n.bind(null,340))})),T=n(758),W=Object(b.lazy)((function(){return n.e(13).then(n.bind(null,2130))})),B=n(59),F=n(128),U=n(1157),q=n.n(U),Y=n(161),G=n(39),H=n(16),J=n(12),V=n(285),Z=function(){var e=Object(f.useHistory)(),t=Object(w.d)(),n=Object(w.e)((function(e){return e.user})),a=Object(w.e)((function(e){return e.user.currentAcademyId})),r=Object(w.e)((function(e){return e.user.academies.filter((function(e){return e.id===a}))}))[0],s=Object(b.useCallback)((function(){return!Object(V.a)(n,a)}),[n,a]),o=Object(b.useState)(),l=Object(B.a)(o,2),u=l[0],j=l[1],m=function(){var n=Object(i.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.a.updateUserMissingSpecialization({specializationId:u,academyId:a});case 3:t(H.a.showAlert({id:"SUCCESS",status:J.a.success,defaultMessage:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u0456",formattedMessageId:"detailsUpdated"})),e.push("/cabinet"),window.location.reload(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(H.a.showAlert({id:"ALERT",status:J.a.error,defaultMessage:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",formattedMessageId:"errorBoundary.SomethingWentWrong"}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return Object(b.useEffect)((function(){s()&&e.replace("/cabinet")}),[e,s]),Object(d.jsx)("div",{className:q.a.wrapper,children:Object(d.jsxs)("div",{className:q.a.item,children:[Object(d.jsx)("div",{className:q.a.header,children:Object(d.jsx)(v.a,{id:"register.secondPage.direction.header",defaultMessage:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043d\u0430\u043f\u0440\u044f\u043c\u043e\u043a"})}),Object(d.jsx)("div",{className:q.a.directions,children:r.groups.map((function(e){var t=e.id,n=e.specialization;return Object(d.jsx)(Y.a,{name:t||"academy-direction",labelText:n.name,onChange:function(){j(t)},value:t,checked:u===t},t)}))}),Object(d.jsx)(F.a,{textIntlId:"Save",disabled:!u||s(),onClick:m})]})})},K=n(94),Q=n(273),X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).isUserWithoutSpecialization=function(){if(a.props.user&&!a.props.user.isEmployee){var e=a.props.user.groups.find((function(e){return e.academyId===a.props.selectedAcademyId}));if(!(null===e||void 0===e?void 0:e.specialization))return!0}return!1},a.loadRouteByIndex=function(e){return Object(i.a)(c.a.mark((function t(){var n,i,s,o,l,u,d,b,j,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.props.user,i=n.routes,s=n.routesShort,o=n.currentAcademyId,l=n.isRoutesLoading,u=a.props.actions,!i[e]){t.next=4;break}return t.abrupt("return");case 4:if(!l){t.next=6;break}return t.abrupt("return");case 6:return d=s[e],t.next=9,K.a.getAcademyOneStage(o,d.id);case 9:b=t.sent,j=b.data,f=Object(r.a)(Object(r.a)({},j),{},{template:null===d||void 0===d?void 0:d.template,failedStageTemplate:null===d||void 0===d?void 0:d.failedStageTemplate}),u.appendCachedRoute(e,f);case 13:case"end":return t.stop()}}),t)})))},a.renderRoutes=function(){var e,t,n,c,r=a.props,i=r.match.url,s=r.location.pathname,o=r.adminPopup,l=r.user,u=r.user,m=u.routesShort,h=u.routes,v=u.currentAcademyId,g=u.academies,y=u.academyRoles,S=r.selectedAcademyId,w=g.find((function(e){return e.id===v})),k=!!l.finishedAcademies.find((function(e){return e.id===(null===w||void 0===w?void 0:w.id)})),C=w&&w.isAcademyClosed&&!k&&"more"!==S,R=w&&-1!==(null===(e=y.Student)||void 0===e?void 0:e.indexOf(w.id)),I=m.filter((function(e){return e.available})),A=m.filter((function(e){return e.available&&e.isCurrentStage})),M=O.a.utc(),z=I.find((function(e){return e.isUrgent})),E=I.filter((function(e){return M.isBetween(O.a.utc(e.startDate),O.a.utc(e.endDate))})),B=z||E[E.length-1]||A[0]||I[0];c=Object(V.a)(l,S)?"".concat(i,"/select-direction"):B?"".concat(i,"/").concat(Object(x.h)(null===B||void 0===B?void 0:B.urlName)):"".concat(i,"/no-available-stages"),C&&R&&(c="".concat(i,"/academy-closed")),c="more"===a.props.selectedAcademyId?"".concat(i,"/select-academy"):c;var F=v&&!C&&c!=="".concat(i,"/select-academy")&&s!=="".concat(i,"/select-academy")&&!Object(V.a)(l,S);if((a.props.user.isRoutesLoading||!I||!I.length)&&S&&"more"!==S)return Object(d.jsx)(D.a,{});var U=null!==(t=null===(n=h.find((function(e){return e&&s.includes(Object(x.h)(e.urlName))})))||void 0===n?void 0:n.localizedName)&&void 0!==t?t:"";return Object(d.jsxs)(j.a.Fragment,{children:[Object(d.jsx)(N.a,{title:U}),F&&Object(d.jsx)(p.a,{url:i,routes:m,sidebarCollapsed:o.sidebarCollapsed}),Object(d.jsx)("div",{className:"user-layout-content scroll-anchor",children:Object(d.jsxs)(b.Suspense,{fallback:Object(d.jsx)(D.a,{}),children:[Object(d.jsxs)(f.Switch,{children:[Object(d.jsx)(f.Redirect,{exact:!0,from:i,to:c}),Object(d.jsx)(f.Route,{exact:!0,path:"".concat(i,"/select-direction"),component:Z}),B&&Object(d.jsx)(f.Redirect,{exact:!0,from:"".concat(i,"/no-available-stages"),to:c}),m.map((function(e,t){return Object(d.jsx)(f.Route,{path:"".concat(i,"/").concat(Object(x.h)(e.urlName)),render:function(){return Object(d.jsx)(P,{route:h[t],loadRoute:a.loadRouteByIndex(t),routeId:e.id},"route-".concat(t))}},t)})),Object(d.jsx)(f.Route,{path:"".concat(i,"/edit"),component:_.a}),Object(d.jsx)(f.Route,{path:"".concat(i,"/edit-additional"),component:L}),("more"===S||!S)&&Object(d.jsx)(f.Route,{path:"".concat(i,"/select-academy"),component:T.a}),C&&Object(d.jsx)(f.Route,{path:"".concat(i,"/academy-closed"),component:function(){return Object(d.jsx)(W,{closedTemplate:w.closedTemplate,localization:a.props.user.settings.localization})}}),!B&&Object(d.jsx)(f.Route,{path:"".concat(i,"/no-available-stages"),component:$}),!B&&Object(d.jsx)(f.Redirect,{to:"/error/404"}),Object(d.jsx)(f.Redirect,{to:c})]}),C&&R&&Object(d.jsx)(f.Redirect,{to:"".concat(i,"/academy-closed")})]})})]})},a.handleNotificationRequestDialogSubmit=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isNotificationRequestOpen:!1}),a.setState({isScreenDarkened:!0}),e.next=4,Object(z.d)();case 4:a.setState({isScreenDarkened:!1});case 5:case"end":return e.stop()}}),e)}))),a.handleNotificationRequestDialogCancel=function(){a.setState({isNotificationRequestOpen:!1}),Object(z.b)()};return a.state={isNotificationRequestOpen:!1,isScreenDarkened:!1},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.user.currentAcademyId&&"more"!==this.props.selectedAcademyId&&this.props.actions.getUserRoutes()}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(e.user!==this.props.user){var n=Object.entries(e.user).find((function(e){return e&&e[0]&&e[1]?t.props.user[0]!==e[1]:null})),a=n?n[0]:null;if(!a)return!1;if("routes"===a&&this.props.user.routes.length===e.user.routes.length)return!1}return!(e.user.currentAcademyId!==this.props.user.currentAcademyId&&"more"===this.props.user.currentAcademyId)}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.match.url,a=e.location,c=e.user,r=e.selectedAcademyId,i=e.adminPopup,s=e.actions,o=c.finishedAcademies.find((function(e){return e.id===c.currentAcademyId})),l=c.academies.find((function(e){return e.id===c.currentAcademyId})),u=a.pathname==="".concat(n,"/profile")&&!l.isAcademyClosed||o&&"more"!==r&&"/cabinet/edit"!==a.pathname&&l.isAcademyClosed;return o&&"more"!==r&&l.isAcademyClosed&&i.sidebarCollapsed&&s.toggleCollapseSidebar(),u?Object(d.jsx)(f.Redirect,{to:"/public/".concat(o.userAcademyId)}):Object(d.jsxs)(j.a.Fragment,{children:[Object(d.jsx)(m.a,{url:n}),Object(d.jsx)(E,{active:this.state.isScreenDarkened}),Object(d.jsx)(A,{content:Object(d.jsx)(v.a,{id:"askNotifications",defaultMessage:"Allow showing notifications?",values:{b:function(e){return Object(d.jsx)("b",{children:e})},lineBreak:Object(d.jsx)("br",{})}}),icon:M.b,onSubmit:this.handleNotificationRequestDialogSubmit,onCancel:this.handleNotificationRequestDialogCancel,isOpen:this.state.isNotificationRequestOpen,cancelLabel:t.formatMessage({id:"noThanks",defaultMessage:"No, thanks"}),submitLabel:t.formatMessage({id:"allow",defaultMessage:"Allow"})}),Object(d.jsxs)("div",{className:"user-layout",children:[" ",this.renderRoutes()," "]})]})}}]),n}(j.a.Component),$=function(){return Object(d.jsx)("div",{className:"no-available-stages-wrapper",children:Object(d.jsx)(v.a,{id:"no-available-stages",tagName:"h3",defaultMessage:"Unfortunately there are no available Academy's stages right now"})})},ee=Object(w.c)((function(e){return{user:e.user,adminPopup:e.adminPopup,selectedAcademyId:e.selectedAcademy.id}}),(function(e){return{actions:Object(S.bindActionCreators)({getUserRoutes:y.a.getUserRoutes,toggleCollapseSidebar:Q.a.toggleCollapseSidebar,appendCachedRoute:y.a.appendCachedRoute},e)}}))(Object(g.c)(X));t.default=ee},586:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var i=a.createElement("path",{d:"M7.9115 8.37959L14.8303 1.44165C15.0568 1.21434 15.0564 0.84631 14.8291 0.619377C14.6018 0.392621 14.2335 0.393206 14.0068 0.620549L7.49985 7.14552L0.992926 0.620314C0.766169 0.393001 0.398171 0.392415 0.170829 0.619142C0.0568647 0.732902 -0.000118275 0.881934 -0.000118281 1.03097C-0.000118288 1.17962 0.0564832 1.32807 0.169657 1.44162L7.08823 8.37959C7.19716 8.48907 7.3454 8.55051 7.49985 8.55051C7.6543 8.55051 7.80237 8.4889 7.9115 8.37959Z",fill:"#00AEEF"});function s(e,t){var n=e.title,s=e.titleId,o=r(e,["title","titleId"]);return a.createElement("svg",c({width:15,height:9,viewBox:"0 0 15 9",fill:"none",ref:t,"aria-labelledby":s},o),n?a.createElement("title",{id:s},n):null,i)}var o=a.forwardRef(s);n.p},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),c=(n(0),n(35)),r=n.n(c),i=n(586),s=(n(607),function(e){var t=e.isCollapsed,n=e.className,c=e.onClick;return Object(a.jsx)(i.a,{onClick:c,className:r()(n,{"arrow-chevron-up":!t})})})},607:function(e,t,n){},692:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),c=n(0),r=n(288),i=function(e){var t=e.title;return Object(c.useEffect)((function(){return function(){document.title="Best Start For Smart | Binary Studio Academy"}}),[]),Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:t||"Binary Academy"})})}},755:function(e,t,n){},756:function(e,t,n){},757:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),c=Object(a.lazy)((function(){return Promise.all([n.e(67),n.e(24)]).then(n.bind(null,1138))}))},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),c=Object(a.lazy)((function(){return n.e(50).then(n.bind(null,1140))}))},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var a=n(8),c=n(9),r=n(20),i=n(21),s=n(2),o=n(0),l=n(35),u=n.n(l),d=n(43),b=n(3),j=n(59),f=n(27),m=n(149),p=n(5),h=n(747);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var g=o.createElement("path",{d:"M2.034 4.506v1.566h-.105A1.19 1.19 0 00.74 7.26v6.55c0 .656.534 1.189 1.19 1.189h9.14a1.19 1.19 0 001.188-1.19V7.259a1.19 1.19 0 00-1.189-1.19h-.03V4.503A4.508 4.508 0 006.536 0a4.512 4.512 0 00-4.502 4.506zm5.17 6.32c-.092.067-.116.131-.116.239.003.48.003.959.003 1.44.01.2-.092.395-.27.484a.561.561 0 01-.84-.484v-.003c0-.481 0-.962.003-1.444 0-.098-.021-.162-.107-.226a1.097 1.097 0 01-.362-1.352c.212-.469.73-.745 1.217-.647.543.11.92.546.926 1.088 0 .377-.15.684-.454.905zm-3.2-6.32a2.534 2.534 0 012.532-2.532 2.534 2.534 0 012.532 2.532v1.566H4.004V4.506z",fill:"#000"});function x(e,t){var n=e.title,a=e.titleId,c=v(e,["title","titleId"]);return o.createElement("svg",O({width:13,height:15,viewBox:"0 0 13 15",fill:"none",ref:t,"aria-labelledby":a},c),n?o.createElement("title",{id:a},n):null,g)}var y=o.forwardRef(x),S=(n.p,n(84)),w=n.n(S),N=n(93);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var R=o.createElement("path",{d:"M6.04 20.012c-1.01-1.148-2.019-2.34-2.662-3.764a8.533 8.533 0 01-.504-4.911 10.593 10.593 0 012.111-4.544c-.092 1.148.321 2.34 1.102 3.213-.46-2.203.275-4.59 1.744-6.334C9.299 1.928 11.319.78 13.43 0c-1.056 1.102-1.194 2.846-.78 4.315.412 1.468 1.284 2.753 2.065 4.084.78 1.332 1.514 2.709 1.56 4.223.413-.78.872-1.56 1.148-2.432.275-.873.413-1.79.183-2.663.826 1.01 1.285 2.02 1.515 3.305.23 1.285.183 2.616.046 3.901-.184 1.423-.551 2.892-1.331 4.085-.918 1.423-2.387 2.433-3.993 2.984-2.846.505-5.646.092-7.803-1.79z",fill:"#F3705A"}),I=o.createElement("path",{d:"M9.529 21.71c3.763 1.469 7.481-2.983 5.416-6.426 0-.046-.046-.046-.046-.092.183 1.882-.276 3.26-1.148 4.04.46-1.102.138-2.387-.413-3.489-.55-1.055-1.33-2.02-1.928-3.03-.596-1.055-1.055-2.248-.78-3.442-1.101.827-1.882 2.066-2.203 3.397-.321 1.331-.138 2.8.459 4.04-.688-.506-1.193-1.332-1.24-2.204-.734.872-1.193 2.02-1.147 3.167 0 1.79 1.423 3.396 3.03 4.039z",fill:"#FFD15C"});function A(e,t){var n=e.title,a=e.titleId,c=C(e,["title","titleId"]);return o.createElement("svg",k({width:22,height:22,viewBox:"0 0 22 22",fill:"none",ref:t,"aria-labelledby":a},c),n?o.createElement("title",{id:a},n):null,R,I)}var M=o.forwardRef(A),z=(n.p,n(31)),E=n(201),D=function(e,t){if(!e||!e.hasHomework)return null;var n=Object(z.get)(e,"homeworkResponseMark"),a=e.available&&!Object(E.b)(n),c=w.a.utc(e.endDate).diff(t,"h"),r=e.available&&c>=0&&c<24;return Object(s.jsx)(s.Fragment,{children:!a&&r&&Object(s.jsx)(M,{className:"fire-icon"})})},P=n(596),_=n(130),L=n(23),T=Object(_.c)((function(e){var t=e.lectures,n=e.utcNow,a=e.url,c=e.urlName,r=e.onItemClick,i=e.intl,l=L.a.getTokens().isImpersonation;return Object(s.jsx)("div",{className:"main-sublinks",children:t.map((function(e){var t,b=u()("sidenav-item sublink",{"sublink-disabled":!e.available}),j=n.isBefore(e.startDate)?i.formatMessage({id:"starts",defaultMessage:"Starts {dateString} from "},{dateString:w()(e.startDate).format("Do MMMM YYYY")}):null,f=e.available?"".concat(a,"/").concat(Object(N.h)(c),"/").concat(Object(N.d)(e.name),"/"):"#",p=e,h=p.homeworkResponse,O=p.homeworkResponseMark,v=null!==O&&void 0!==O?O:null===h||void 0===h?void 0:h.mark,g=v&&Object(P.a)(v);return Object(s.jsx)(o.Fragment,{children:Object(s.jsxs)(m.b,{to:f,activeClassName:(t=e.available,l&&!t?"disabled-impersonalized":t?"sub-active":""),className:b,onClick:r,title:j,children:[Object(s.jsx)("span",{className:"lecture-name",children:e.shortName||e.name}),void 0!==v&&null!==v&&Object(s.jsx)("div",{className:u()("mark-icon",Object(d.a)({},"mark-icon-".concat(g),g)),children:Object(s.jsx)("span",{children:v})}),D(e,n)]})},e.stageLectureId)}))})})),W=n(606),B=(n(755),function(e){var t=e.url,n=e.onItemClick,a=e.routes,c=w.a.utc(),r=o.useState(function(e,t){var n={};return e.forEach((function(e){var a=e.stageType,c=e.isCurrentStage,r=e.urlName;if(t.includes(a)){var i=Object(N.h)(r);n[i]=!0,c&&(n[i]=!1)}})),n}(a,[p.StageType.Lectures])),i=Object(j.a)(r,2),l=i[0],O=i[1],v=o.useState(""),g=Object(j.a)(v,2),x=g[0],S=g[1],k=Object(f.useLocation)().pathname;o.useEffect((function(){S(k),Object.keys(l).forEach((function(e){k.includes(e)&&l[e]&&O(Object(b.a)(Object(b.a)({},l),{},Object(d.a)({},e,!1)))}))}),[k]);var C=function(e,t){return function(n,a){var c=a.pathname;return t===p.StageType.Lectures?c===e:t===p.StageType.Profile?c.includes("public"):c.startsWith(e)}};return Object(s.jsx)("div",{className:"cabinet-sidenav",children:Object(s.jsx)("div",{className:"sidebar-stages",children:a.map((function(e){var r=e.id,i=e.localizedName,o=e.available,j=e.urlName,f=e.stageType,v=e.icon,g=e.lectures,S=e.isOnlyForDesignated,w=e.isAttention,k=e.testSummary,R=e.showTestResult;if(S&&!o)return null;var I,A=u()("sidenav-item",{"sidenav-item-disabled":!o}),z=Object(N.h)(j),E=o?"".concat(t,"/").concat(z):"#",_=k&&(null===k||void 0===k?void 0:k.equityPercent)&&(I=null===k||void 0===k?void 0:k.equityPercent,Object(P.a)(Math.floor(I/10))),L=l.hasOwnProperty(z);return Object(s.jsxs)("div",{children:[Object(s.jsxs)(m.b,{to:E,activeClassName:u()({active:o}),className:u()(A,{active:x.includes(E)}),onClick:function(e){n&&!L&&n(e),L&&x.endsWith(z)&&O(Object(b.a)(Object(b.a)({},l),{},Object(d.a)({},z,!l[z])))},isActive:C(E,f),children:[v?Object(h.c)(v):Object(h.b)(f),Object(s.jsx)("span",{className:"link-text",children:i}),o||Object(s.jsx)(y,{className:"lock-icon"}),f===p.StageType.SecondChance||f===p.StageType.MiniProject&&D(g[0],c),w&&o&&Object(s.jsx)(M,{className:"fire-icon"}),R&&(null===k||void 0===k?void 0:k.successPercent)&&Object(s.jsx)("div",{className:u()("mark-icon",Object(d.a)({},"mark-icon-".concat(_),_)),children:Object(s.jsx)("span",{children:k.successPercent})}),o&&L&&Object(s.jsx)(W.a,{isCollapsed:l[z],className:"arrow"})]}),!l[z]&&o&&f===p.StageType.Lectures&&Object(s.jsx)(T,{lectures:g,utcNow:c,url:t,urlName:j,onItemClick:function(e){n&&n(e)},routes:a})]},r)}))})})}),F=(n(756),n(212)),U=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showMenu:!1,isWide:!0},e.updateSize=function(){window.innerWidth<=768&&e.state.isWide&&e.setState({isWide:!1}),window.innerWidth>768&&!e.state.isWide&&e.setState({isWide:!0})},e.updateSizeDebounce=Object(z.debounce)(e.updateSize,100,{trailing:!0}),e.toggleMenu=function(){return e.setState((function(e){return{showMenu:!e.showMenu}}))},e.closeMenu=function(){e.setState({showMenu:!1})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateSizeDebounce,{passive:!0}),this.updateSize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSizeDebounce)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.routes,a=this.state.showMenu,c=u()("burger-menu",a?"opened":"closed"),r=u()("mobile-sidebar","burger-bars",{"burger-bars_active":a}),i=u()("user-layout-sidebar",{"user-layout-sidebar-collapsed":!this.state.isWide||!this.props.sidebarCollapsed});return Object(s.jsx)("div",{className:i,children:this.state.isWide?Object(s.jsx)(B,{url:t,routes:n}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"mobile-logo-wrapper",children:Object(s.jsx)(F.a,{className:"mobile-logo",width:70,height:70})}),Object(s.jsx)("button",{onClick:this.toggleMenu,className:r,children:Object(s.jsx)("span",{})}),Object(s.jsx)("div",{className:c,children:Object(s.jsx)(B,{onItemClick:this.closeMenu,url:t,routes:n})})]})})}}]),n}(o.Component)}}]);